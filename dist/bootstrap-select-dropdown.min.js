!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=$},function(e,t,n){"use strict";n(2),n(3)},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=a(n(0)),s=a(n(4)),l=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var c=1,d=function(e){var t="selectDropdown",n="bs.selectDropdown",r="."+n,a=e.fn[t],d={profile:"default",maxListLength:4,hideSelect:!0,search:!0,observeDomMutations:!1,maxHeight:"300px",keyboard:!0,textNoneSelected:"None selected",textMultipleSelected:"Multiple selected",textNoResults:"No results",btnClear:!0,btnDeselectAll:!0,btnSelectAll:!0,htmlBtnClear:"Clear search",htmlBtnDeselectAll:"Deselect all",htmlBtnSelectAll:"Select all",classBtnClear:"btn btn-outline-secondary",classBtnDeselectAll:"btn btn-outline-secondary",classBtnSelectAll:"btn btn-outline-secondary",classBtnSelect:"btn btn-primary"},h={profile:"string",maxListLength:"number",hideSelect:"boolean",search:"boolean",observeDomMutations:"boolean",maxHeight:"string",keyboard:"boolean",textNoneSelected:"string",textMultipleSelected:"string",textNoResults:"string",btnClear:"boolean",btnDeselectAll:"boolean",btnSelectAll:"boolean",htmlBtnClear:"string",htmlBtnDeselectAll:"string",htmlBtnSelectAll:"string",classBtnClear:"string",classBtnDeselectAll:"string",classBtnSelectAll:"string",classBtnSelect:"string"},u={KEYUP:"keyup"+r,HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,FOCUSIN:"focusin"+r,RESIZE:"resize"+r,CLICK_DISMISS:"click.dismiss"+r,KEYDOWN_DISMISS:"keydown.dismiss"+r,MOUSEUP_DISMISS:"mouseup.dismiss"+r,MOUSEDOWN_DISMISS:"mousedown.dismiss"+r,CLICK_DATA_API:"click"+r+".data-api"},f="dropdown",p="dropdown-menu",v="dropdown-item",g="btn-group",_="input-group",m="input-group-append",y="hover",b="dropdown-menu-right",w=function(){function r(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._multiselect=this._isMultiselect(t),this._config=this._getConfig(n),this._element=t,this._prefix="bsd"+this._config.SelectDropdownIndex+"-",this._indexes=[],this._lastSearch=null,this._resultsChanged=!1,this._hoverItem=e(),this.ids={},this.ids.dropdownContainerId=this._prefix+"container",this.ids.dropdownButtonId=this._prefix+"button",this.ids.controlSearchId=this._prefix+"search",this.ids.dropdownItemDeselect=this._prefix+"deselect",this.ids.dropdownItemShowSelected=this._prefix+"selected",this.els={},this.els.btnSelect=this._buildBtnSelect(),this._config.search&&(this.els.controlSearch=this._buildControlSearch()),this._config.btnClear&&(this.els.btnClear=this._buildBtnClear()),this._config.btnDeselectAll&&(this.els.btnDeselectAll=this._buildBtnDeselectAll()),this._config.btnSelectAll&&(this.els.btnSelectAll=this._buildBtnSelectAll()),this.els.controlSelected=this._buildShowSelected(),this.els.dropdown=this._buildDropdown(),this.els.dropdownMenu=this._buildDropdownMenu(),this.els.dropdownItemsContainer=this._buildDropdownItemsContainer(),this.els.dropdownItemNoResults=this._buildDropdownItemNoResults(),this.els.dropdownItems=this._buildDropdownItems(),this.els.dropdownOptions=this.els.dropdownItems.filter(function(t,n){return o._isOption(e(n))}),this._config.search&&(this._haystack=[],this._fuseOptions={keys:["text"],id:"index"},this.els.dropdownOptions.each(function(t,n){o._haystack[t]={index:e(n).data("index"),text:e(n).text()}})),this._addEventListeners(),this.init()}return i(r,[{key:"toggle",value:function(t){var n=this,o=e(n._element),i=t.data("option"),r=o.find("option").eq(i);r.is(":selected")?(r.prop("selected",!1),t.removeClass("active")):(n._multiselect||n.els.dropdownOptions.removeClass("active"),r.prop("selected",!0),t.addClass("active")),n._setButtonText(),n._refreshInitialControls()}},{key:"deselect",value:function(t){var n=e(this._element),o=t.data("option");n.find("option").eq(o).is(":selected")&&this.toggle(t)}},{key:"select",value:function(t){var n=e(this._element),o=t.data("option");n.find("option").eq(o).is(":selected")||this.toggle(t)}},{key:"deselectAll",value:function(){var t=this;e(this._element);this.els.dropdownOptions.each(function(n,o){t.deselect(e(o))}),this._refresh()}},{key:"selectAll",value:function(){var t=this;e(this._element);this.els.dropdownOptions.each(function(n,o){t.select(e(o))}),this._refresh()}},{key:"_getConfig",value:function(e){return e=Object.assign({},d,e),s.default.typeCheckConfig(t,e,h),e.search||(e.btnClear=!1),this._multiselect||(e.btnDeselectAll=!1,e.btnSelectAll=!1),e}},{key:"_addEventListeners",value:function(){var t=this;this._config.search&&(this.els.controlSearch.on(u.KEYUP,function(e){return t._keyup(e)}),this.els.controlSearch.on(u.FOCUS,function(e){return t._hoverSet()}),this.els.controlSearch.on(u.BLUR,function(e){return t._hoverRemove()})),this.els.controlSearch.bind({paste:function(){e(this).trigger("keydown")},cut:function(){e(this).trigger("keydown")}}),this._assignClickHandlers()}},{key:"_keyup",value:function(t){if(this._config.keyboard){if(13==t.which)return this.toggle(this.els.dropdown.find(".hover").first()),void(this._multiselect||this.els.btnSelect.dropdown("toggle"));if(38==t.which)return this._dropdownActive()||(this.els.btnSelect.dropdown("toggle"),this.els.controlSearch.focus()),void this._hoverUp();if(40==t.which)return this._dropdownActive()||(this.els.btnSelect.dropdown("toggle"),this.els.controlSearch.focus()),void this._hoverDown()}this._search(e(this.els.controlSearch).val())}},{key:"_assignClickHandlers",value:function(){var t=this;this.els.dropdownOptions.on("click",function(n){n.preventDefault(),t._multiselect&&t.els.dropdown.one("hide.bs.dropdown",function(e){e.preventDefault()}),t.toggle(e(n.currentTarget))}),this._config.btnDeselectAll&&this.els.btnDeselectAll.on("click",function(n){n.preventDefault(),t.els.dropdown.one("hide.bs.dropdown",function(e){e.preventDefault()}),e(n.currentTarget).hasClass("disabled")||t.deselectAll()}),this._config.btnSelectAll&&this.els.btnSelectAll.on("click",function(n){n.preventDefault(),t.els.dropdown.one("hide.bs.dropdown",function(e){e.preventDefault()}),e(n.currentTarget).hasClass("disabled")||t.selectAll()}),this._config.btnClear&&this.els.btnClear.on("click",function(){t.els.controlSearch.val(""),t._dropdownActive()&&t.els.dropdown.one("hide.bs.dropdown",function(e){e.preventDefault()}),t._refresh()}),this.els.controlSelected.on("click",function(n){n.preventDefault(),t.els.dropdown.one("hide.bs.dropdown",function(e){e.preventDefault()}),e(n.currentTarget).hasClass("disabled")||t._sortSelected()}),this.els.dropdownItemNoResults.on("click",function(e){e.preventDefault(),t.els.dropdown.one("hide.bs.dropdown",function(e){e.preventDefault()})})}},{key:"init",value:function(){var t=this,n=e(t._element);if(t._setButtonText(),this.els.dropdown.append(t.els.dropdownMenu),t.els.dropdownItemsContainer.append(t.els.dropdownItems),t._multiselect&&t.els.dropdownMenu.append(t.els.controlSelected),t.els.dropdownMenu.append(t.els.dropdownItemsContainer),n.after(this.els.dropdown),t._config.hideSelect&&n.hide(),t._config.search&&t.els.controlSearch.on("focusin",function(){"false"==t.els.btnSelect.attr("aria-expanded")&&(t.els.btnSelect.dropdown("toggle"),setTimeout(function(){t.els.controlSearch.focus()},1))}),t._refreshInitialControls(),t._config.observeDomMutations){new MutationObserver(function(e){var n=!0,o=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(n=(r=s.next()).done);n=!0)"childList"==r.value.type&&t._refresh()}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}).observe(n[0],{childList:!0,subtree:!0})}}},{key:"_isMultiselect",value:function(t){var n=e(t).attr("multiple");return"undefined"!==(void 0===n?"undefined":o(n))&&!1!==n}},{key:"_search",value:function(t){var n=null;if(""==e.trim(t))return this._refresh(),void(null!==this._lastSearch&&(this._resultsChanged=!0,this._lastSearch=null));n=new l.default(this._haystack,this._fuseOptions).search(t),this._resultsChanged=!0,n?(null!==typeof this._lastSearch&&this._arraysEqual(n,this._lastSearch)&&(this._resultsChanged=!1),this._resultsChanged&&(this._hoverSet(n[0]),this._hide(n),this._reorder(n),this._resetScroll()),this._lastSearch=n):this._refresh()}},{key:"_buildBtnSelect",value:function(){var t=this;return e("<button>",{class:t._config.classBtnSelect+" dropdown-toggle",type:"button",id:t.ids.dropdownButtonId,"data-toggle":"dropdown","data-target":"#"+t.ids.dropdownContainerId,"aria-haspopup":"true","aria-expanded":"false"})}},{key:"_buildBtnClear",value:function(){return e("<button>",{type:"button",class:this._config.classBtnClear}).html(this._config.htmlBtnClear)}},{key:"_buildBtnDeselectAll",value:function(){return e("<button>",{type:"button",class:this._config.classBtnDeselectAll}).html(this._config.htmlBtnDeselectAll)}},{key:"_buildBtnSelectAll",value:function(){return e("<button>",{type:"button",class:this._config.classBtnSelectAll}).html(this._config.htmlBtnSelectAll)}},{key:"_buildShowSelected",value:function(){return e("<a>",{href:"#",id:this.ids.dropdownItemShowSelected,class:v,text:"Show selected"})}},{key:"_buildControlSearch",value:function(){return e("<input>",{type:"text",class:"form-control",placeholder:"Search","aria-label":"Search","aria-describedby":this.ids.controlSearchId})}},{key:"_buildDropdown",value:function(){var t=e("<div>",{id:this.ids.dropdownContainerId,class:f});if(this._config.search){var n=e("<div>",{class:_});n.append(this.els.controlSearch),this._config.btnClear&&n.append(e("<div>",{class:m}).append(this.els.btnClear)),this._config.btnDeselectAll&&n.append(e("<div>",{class:m}).append(this.els.btnDeselectAll)),this._config.btnSelectAll&&n.append(e("<div>",{class:m}).append(this.els.btnSelectAll)),n.append(e("<div>",{class:m}).append(this.els.btnSelect)),t.append(n)}else if(this._hasButtons){var o=e("<div>",{class:g});this._config.btnDeselectAll&&o.append(this.els.btnDeselectAll),this._config.btnSelectAll&&o.append(this.els.btnSelectAll),o.append(e("<div>",{class:g}).append(this.els.btnSelect)),t.append(o)}else t.append(this.els.btnSelect);return t}},{key:"_buildDropdownMenu",value:function(){var t=this,n=e("<div>",{class:p+" "+b,"aria-labelledby":t.ids.dropdownButtonId});return t._config.maxHeight&&n.css({height:"auto","max-height":t._config.maxHeight,"overflow-x":"hidden"}),n}},{key:"_buildDropdownItemsContainer",value:function(){return e("<div>")}},{key:"_buildDropdownItemNoResults",value:function(){return e("<span>",{class:v+" text-muted no-results",text:this._config.textNoResults}).hide()}},{key:"_buildDropdownItems",value:function(){var t=this,n=e(t._element),o=0,i=0,r=e(),s=n.find("optgroup");return s.length?s.each(function(){r=r.add(t._buildDropdownHeader(e(this).attr("label")).data("index",o)),o=t._incrementIndex(o),e(this).find("option").each(function(){r=r.add(t._buildDropdownItem(e(this)).data("index",o).data("option",i)),o=t._incrementIndex(o),i++})}):n.find("option").each(function(n,s){r=r.add(t._buildDropdownItem(e(this)).data("index",o).data("option",i)),o=t._incrementIndex(o),i++}),t._config.search&&(r=r.add(t.els.dropdownItemNoResults)),r}},{key:"_incrementIndex",value:function(e){return this._indexes.push(e.toString()),++e}},{key:"_buildDropdownHeader",value:function(t){return e("<h6>",{class:"dropdown-header",text:t})}},{key:"_buildDropdownItem",value:function(t){var n=e("<a>",{href:"#",class:v,text:t.text()});return t.is(":selected")&&n.addClass("active"),n}},{key:"_dropdownActive",value:function(){return!!this.els.dropdownMenu.hasClass("show")}},{key:"_isOption",value:function(e){var t=e.data("option");return"undefined"!==(void 0===t?"undefined":o(t))&&!1!==t}},{key:"_setButtonText",value:function(){var t=this,n=e(t._element),o=t.els.btnSelect,i=n.val();if(i.length<1)o.text(t._config.textNoneSelected);else if(i.length<=t._config.maxListLength){var r=n.find("option:selected").map(function(t,n){return e(n).text()}).get();o.text(r.join(", "))}else o.text(t._config.textMultipleSelected)}},{key:"_refresh",value:function(){var e=this;e._hoverRemove(),e.els.dropdownItemNoResults.hide(),e._sortReset(),e._showInitialControls()}},{key:"_hide",value:function(t){var n=this,o=e(n._indexes).not(t).get();e.each(o,function(e,t){n._dropdownItemByIndex(t).hide()}),n.els.btnSelect.dropdown("update")}},{key:"_dropdownItemByIndex",value:function(t){return this.els.dropdownItems.filter(function(){return e(this).data("index")==t})}},{key:"_hideInitialControls",value:function(){this.els.controlSelected.hide()}},{key:"_showInitialControls",value:function(e){var t=this;(e="undefined"!==(void 0===e?"undefined":o(e))&&e)&&t.els.controlSelected.prependTo(t.els.dropdownMenu),t.els.controlSelected.show()}},{key:"_refreshInitialControls",value:function(){var t=this,n=e(t._element);n.val()&&0!=n.val().length?t.els.controlSelected.removeClass("disabled"):t.els.controlSelected.addClass("disabled")}},{key:"_hoverSet",value:function(e){var t=this;if(t.els.dropdownOptions.removeClass(y),"undefined"===(void 0===e?"undefined":o(e)))var n=t.els.dropdownOptions.first();else n=t._dropdownItemByIndex(e);t._hoverItem=n,n.addClass(y)}},{key:"_hoverUp",value:function(){var e=this._hoverItem;if("undefined"!==(void 0===e?"undefined":o(e))&&e.length)var t=e.prevAll("a:visible").first();"undefined"!==(void 0===t?"undefined":o(t))&&t.length&&(e.removeClass(y),t.addClass(y),this._hoverItem=t)}},{key:"_hoverDown",value:function(){var e=this._hoverItem;if("undefined"!==(void 0===e?"undefined":o(e))&&e.length)var t=e.nextAll("a:visible").first();"undefined"!==(void 0===t?"undefined":o(t))&&t.length&&(e.removeClass(y),t.addClass(y),this._hoverItem=t)}},{key:"_hoverRemove",value:function(){this.els.dropdownItems.removeClass(y).show()}},{key:"_sortReset",value:function(){var e,t=this;for(e=t.els.dropdownItems.length;e>=0;e--)t._dropdownItemByIndex(e).prependTo(t.els.dropdownItemsContainer)}},{key:"_reorder",value:function(t){var n=this;if(n.els.dropdownItemNoResults.hide(),"undefined"!==(void 0===t?"undefined":o(t))&&0!=t.length){var i=t.slice(0);i=i.reverse(),e.each(i,function(e,t){n._dropdownItemByIndex(t).prependTo(n.els.dropdownItemsContainer)}),n._hideInitialControls()}else n.els.dropdownItemNoResults.show()}},{key:"_sortSelected",value:function(){var t=this;e(t._element);t.els.dropdownOptions.removeClass(y),e(t.els.dropdownMenu.find(".active").get().reverse()).each(function(){e(this).prependTo(t.els.dropdownItemsContainer)}),t._showInitialControls(!0),t.resetScroll()}},{key:"_resetScroll",value:function(){this.els.dropdownMenu.animate({scrollTop:0},50)}},{key:"_arraysEqual",value:function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}}],[{key:"_jQueryInterface",value:function(t,i){return this.each(function(){var s=e(this).data(n),l=Object.assign({},r.Default,e(this).data(),"object"===(void 0===t?"undefined":o(t))&&t,{SelectDropdownIndex:c});if(c++,s||(s=new r(this,l),e(this).data(n,s)),"string"==typeof t){if(void 0===s[t])throw new TypeError('No method named "'+t+'"');s[t](i)}else l.show&&s.show(i)})}},{key:"VERSION",get:function(){return"0.7.0"}},{key:"Default",get:function(){return d}}]),r}();return e.fn[t]=w._jQueryInterface,e.fn[t].Constructor=w,e.fn[t].noConflict=function(){return e.fn[t]=a,w._jQueryInterface},w}(r.default,l.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);const i=(e=>{let t=!1;function n(t){let n=!1;return e(this).one(o.TRANSITION_END,()=>{n=!0}),setTimeout(()=>{n||o.triggerTransitionEnd(this)},t),this}const o={TRANSITION_END:"bsTransitionEnd",getUID(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement(t){let n=t.getAttribute("data-target");n&&"#"!==n||(n=t.getAttribute("href")||""),"#"===n.charAt(0)&&(n=function(t){return t="function"==typeof e.escapeSelector?e.escapeSelector(t).substr(1):t.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1")}(n));try{return e(document).find(n).length>0?n:null}catch(e){return null}},reflow:e=>e.offsetHeight,triggerTransitionEnd(n){e(n).trigger(t.end)},supportsTransitionEnd:()=>Boolean(t),isElement:e=>(e[0]||e).nodeType,typeCheckConfig(e,t,n){for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const s=n[r],l=t[r],a=l&&o.isElement(l)?"element":(i=l,{}.toString.call(i).match(/\s([a-zA-Z]+)/)[1].toLowerCase());if(!new RegExp(s).test(a))throw new Error(`${e.toUpperCase()}: `+`Option "${r}" provided type "${a}" `+`but expected type "${s}".`)}var i}};return t=("undefined"==typeof window||!window.QUnit)&&{end:"transitionend"},e.fn.emulateTransitionEnd=n,o.supportsTransitionEnd()&&(e.event.special[o.TRANSITION_END]={bindType:t.end,delegateType:t.end,handle(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}),o})(n.n(o).a);t.default=i},function(e,t,n){var o;o=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";e.exports=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=n(5),r=n(7),s=n(4),l=function(){function e(t,n){var o=n.location,i=void 0===o?0:o,r=n.distance,l=void 0===r?100:r,a=n.threshold,c=void 0===a?.6:a,d=n.maxPatternLength,h=void 0===d?32:d,u=n.isCaseSensitive,f=void 0!==u&&u,p=n.tokenSeparator,v=void 0===p?/ +/g:p,g=n.findAllMatches,_=void 0!==g&&g,m=n.minMatchCharLength,y=void 0===m?1:m;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:i,distance:l,threshold:c,maxPatternLength:h,isCaseSensitive:f,tokenSeparator:v,findAllMatches:_,minMatchCharLength:y},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=h&&(this.patternAlphabet=s(this.pattern))}return o(e,[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,o=t.tokenSeparator;if(this.pattern.length>n)return i(e,this.pattern,o);var s=this.options,l=s.location,a=s.distance,c=s.threshold,d=s.findAllMatches,h=s.minMatchCharLength;return r(e,this.pattern,this.patternAlphabet,{location:l,distance:a,threshold:c,findAllMatches:d,minMatchCharLength:h})}}]),e}();e.exports=l},function(e,t,n){"use strict";var o=n(0);e.exports=function(e,t){return function e(t,n,i){if(n){var r=n.indexOf("."),s=n,l=null;-1!==r&&(s=n.slice(0,r),l=n.slice(r+1));var a=t[s];if(null!==a&&void 0!==a)if(l||"string"!=typeof a&&"number"!=typeof a)if(o(a))for(var c=0,d=a.length;c<d;c+=1)e(a[c],l,i);else l&&e(a,l,i);else i.push(a.toString())}else i.push(t);return i}(e,t,[])}},function(e,t,n){"use strict";e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],o=-1,i=-1,r=0,s=e.length;r<s;r+=1){var l=e[r];l&&-1===o?o=r:l||-1===o||((i=r-1)-o+1>=t&&n.push([o,i]),o=-1)}return e[r-1]&&r-o>=t&&n.push([o,r-1]),n}},function(e,t,n){"use strict";e.exports=function(e){for(var t={},n=e.length,o=0;o<n;o+=1)t[e.charAt(o)]=0;for(var i=0;i<n;i+=1)t[e.charAt(i)]|=1<<n-i-1;return t}},function(e,t,n){"use strict";var o=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,i=new RegExp(t.replace(o,"\\$&").replace(n,"|")),r=e.match(i),s=!!r,l=[];if(s)for(var a=0,c=r.length;a<c;a+=1){var d=r[a];l.push([e.indexOf(d),d.length-1])}return{score:s?.5:1,isMatch:s,matchedIndices:l}}},function(e,t,n){"use strict";e.exports=function(e,t){var n=t.errors,o=void 0===n?0:n,i=t.currentLocation,r=void 0===i?0:i,s=t.expectedLocation,l=void 0===s?0:s,a=t.distance,c=void 0===a?100:a,d=o/e.length,h=Math.abs(l-r);return c?d+h/c:h?1:d}},function(e,t,n){"use strict";var o=n(6),i=n(3);e.exports=function(e,t,n,r){for(var s=r.location,l=void 0===s?0:s,a=r.distance,c=void 0===a?100:a,d=r.threshold,h=void 0===d?.6:d,u=r.findAllMatches,f=void 0!==u&&u,p=r.minMatchCharLength,v=void 0===p?1:p,g=l,_=e.length,m=h,y=e.indexOf(t,g),b=t.length,w=[],S=0;S<_;S+=1)w[S]=0;if(-1!==y){var k=o(t,{errors:0,currentLocation:y,expectedLocation:g,distance:c});if(m=Math.min(k,m),-1!==(y=e.lastIndexOf(t,g+b))){var x=o(t,{errors:0,currentLocation:y,expectedLocation:g,distance:c});m=Math.min(x,m)}}y=-1;for(var I=[],C=1,A=b+_,D=1<<b-1,M=0;M<b;M+=1){for(var O=0,B=A;O<B;){o(t,{errors:M,currentLocation:g+B,expectedLocation:g,distance:c})<=m?O=B:A=B,B=Math.floor((A-O)/2+O)}A=B;var L=Math.max(1,g-B+1),T=f?_:Math.min(g+B,_)+b,E=Array(T+2);E[T+1]=(1<<M)-1;for(var N=T;N>=L;N-=1){var R=N-1,P=n[e.charAt(R)];if(P&&(w[R]=1),E[N]=(E[N+1]<<1|1)&P,0!==M&&(E[N]|=(I[N+1]|I[N])<<1|1|I[N+1]),E[N]&D&&(C=o(t,{errors:M,currentLocation:R,expectedLocation:g,distance:c}))<=m){if(m=C,(y=R)<=g)break;L=Math.max(1,2*g-y)}}if(o(t,{errors:M+1,currentLocation:g,expectedLocation:g,distance:c})>m)break;I=E}return{isMatch:y>=0,score:0===C?.001:C,matchedIndices:i(w,v)}}},function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=n(1),r=n(2),s=n(0),l=function(){function e(t,n){var o=n.location,i=void 0===o?0:o,s=n.distance,l=void 0===s?100:s,a=n.threshold,c=void 0===a?.6:a,d=n.maxPatternLength,h=void 0===d?32:d,u=n.caseSensitive,f=void 0!==u&&u,p=n.tokenSeparator,v=void 0===p?/ +/g:p,g=n.findAllMatches,_=void 0!==g&&g,m=n.minMatchCharLength,y=void 0===m?1:m,b=n.id,w=void 0===b?null:b,S=n.keys,k=void 0===S?[]:S,x=n.shouldSort,I=void 0===x||x,C=n.getFn,A=void 0===C?r:C,D=n.sortFn,M=void 0===D?function(e,t){return e.score-t.score}:D,O=n.tokenize,B=void 0!==O&&O,L=n.matchAllTokens,T=void 0!==L&&L,E=n.includeMatches,N=void 0!==E&&E,R=n.includeScore,P=void 0!==R&&R,j=n.verbose,H=void 0!==j&&j;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:i,distance:l,threshold:c,maxPatternLength:h,isCaseSensitive:f,tokenSeparator:v,findAllMatches:_,minMatchCharLength:y,id:w,keys:k,includeMatches:N,includeScore:P,shouldSort:I,getFn:A,sortFn:M,verbose:H,tokenize:B,matchAllTokens:T},this.setCollection(t)}return o(e,[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){this._log('---------\nSearch pattern: "'+e+'"');var t=this._prepareSearchers(e),n=t.tokenSearchers,o=t.fullSearcher,i=this._search(n,o),r=i.weights,s=i.results;return this._computeScore(r,s),this.options.shouldSort&&this._sort(s),this._format(s)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),o=0,r=n.length;o<r;o+=1)t.push(new i(n[o],this.options));return{tokenSearchers:t,fullSearcher:new i(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=this.list,o={},i=[];if("string"==typeof n[0]){for(var r=0,s=n.length;r<s;r+=1)this._analyze({key:"",value:n[r],record:r,index:r},{resultMap:o,results:i,tokenSearchers:e,fullSearcher:t});return{weights:null,results:i}}for(var l={},a=0,c=n.length;a<c;a+=1)for(var d=n[a],h=0,u=this.options.keys.length;h<u;h+=1){var f=this.options.keys[h];if("string"!=typeof f){if(l[f.name]={weight:1-f.weight||1},f.weight<=0||f.weight>1)throw new Error("Key weight has to be > 0 and <= 1");f=f.name}else l[f]={weight:1};this._analyze({key:f,value:this.options.getFn(d,f),record:d,index:a},{resultMap:o,results:i,tokenSearchers:e,fullSearcher:t})}return{weights:l,results:i}}},{key:"_analyze",value:function(e,t){var n=e.key,o=e.arrayIndex,i=void 0===o?-1:o,r=e.value,l=e.record,a=e.index,c=t.tokenSearchers,d=void 0===c?[]:c,h=t.fullSearcher,u=void 0===h?[]:h,f=t.resultMap,p=void 0===f?{}:f,v=t.results,g=void 0===v?[]:v;if(void 0!==r&&null!==r){var _=!1,m=-1,y=0;if("string"==typeof r){this._log("\nKey: "+(""===n?"-":n));var b=u.search(r);if(this._log('Full text: "'+r+'", score: '+b.score),this.options.tokenize){for(var w=r.split(this.options.tokenSeparator),S=[],k=0;k<d.length;k+=1){var x=d[k];this._log('\nPattern: "'+x.pattern+'"');for(var I=!1,C=0;C<w.length;C+=1){var A=w[C],D=x.search(A),M={};D.isMatch?(M[A]=D.score,_=!0,I=!0,S.push(D.score)):(M[A]=1,this.options.matchAllTokens||S.push(1)),this._log('Token: "'+A+'", score: '+M[A])}I&&(y+=1)}m=S[0];for(var O=S.length,B=1;B<O;B+=1)m+=S[B];m/=O,this._log("Token score average:",m)}var L=b.score;m>-1&&(L=(L+m)/2),this._log("Score average:",L);var T=!this.options.tokenize||!this.options.matchAllTokens||y>=d.length;if(this._log("\nCheck Matches: "+T),(_||b.isMatch)&&T){var E=p[a];E?E.output.push({key:n,arrayIndex:i,value:r,score:L,matchedIndices:b.matchedIndices}):(p[a]={item:l,output:[{key:n,arrayIndex:i,value:r,score:L,matchedIndices:b.matchedIndices}]},g.push(p[a]))}}else if(s(r))for(var N=0,R=r.length;N<R;N+=1)this._analyze({key:n,arrayIndex:N,value:r[N],record:l,index:a},{resultMap:p,results:g,tokenSearchers:d,fullSearcher:u})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var n=0,o=t.length;n<o;n+=1){for(var i=t[n].output,r=i.length,s=0,l=1,a=0;a<r;a+=1){var c=e?e[i[a].key].weight:1,d=(1===c?i[a].score:i[a].score||.001)*c;1!==c?l=Math.min(l,d):(i[a].nScore=d,s+=d)}t[n].score=1===l?s/r:l,this._log(t[n])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];this._log("\n\nOutput:\n\n",JSON.stringify(e));var n=[];this.options.includeMatches&&n.push(function(e,t){var n=e.output;t.matches=[];for(var o=0,i=n.length;o<i;o+=1){var r=n[o];if(0!==r.matchedIndices.length){var s={indices:r.matchedIndices,value:r.value};r.key&&(s.key=r.key),r.hasOwnProperty("arrayIndex")&&r.arrayIndex>-1&&(s.arrayIndex=r.arrayIndex),t.matches.push(s)}}}),this.options.includeScore&&n.push(function(e,t){t.score=e.score});for(var o=0,i=e.length;o<i;o+=1){var r=e[o];if(this.options.id&&(r.item=this.options.getFn(r.item,this.options.id)[0]),n.length){for(var s={item:r.item},l=0,a=n.length;l<a;l+=1)n[l](r,s);t.push(s)}else t.push(r.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}]),e}();e.exports=l}])},e.exports=o()}]);